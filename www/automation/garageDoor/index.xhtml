<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title></title>
    <!--# include file="/automation/head2.xhtml" -->
  </head>
  <body>
    <!--# include file="/automation/body1.xhtml" -->
    <div id="page">
      <div id="page-bgtop">
	<div id="content">
	  <h2>Garage door opener</h2>

	  <img class="right" src="http://photo.bigasterisk.com/proj/automation/garage1.jpg?size=full" alt="screenshot of garage door opener web site"/>
	  <p>From my phone or other web browser, I login to my secret control panel site via openid. That site shows a garage door opener page:</p>
	  <div style="clear:both"/>

	  <img class="right" src="http://photo.bigasterisk.com/proj/automation/garage2.jpg?size=full" alt="screenshot of garage door opener web site"/>
	  <p>Sliding up the virtual cover fetches a one-time use code (something like <a href="http://tools.ietf.org/html/draft-nottingham-http-poe-00">Post Once Exactly</a>). The code even expires after a few seconds, in a further attempt to prevent accidents.</p>
	  <div style="clear:both"/>

	  <img class="right" src="http://photo.bigasterisk.com/proj/automation/garage3.jpg?size=full" alt="screenshot of garage door opener web site"/>
	  <p>Submitting that form sends the code to my web server, which can send an internal HTTP PUT to a service on the garage computer. It's like my <a href="http://bigasterisk.com/darcs/?r=parport-serve;a=tree">parport-serve</a> HTTP-to-parallel-port service, but different since it also drives a <a href="http://macetech.com/blog/node/54">shiftbrite</a> on some of the pins.</p>
	  <div style="clear:both"/>

	  <p>The parallel port service holds a pin high for a few seconds. This signal goes through a big low-pass filter to avoid accidental opens due to noise, a transistor for amplification, and then to a relay connected to the garage door opener circuit. The filter takes more than a second to activate the relay. The relay makes a sort of different sound when you fade it on like that.</p>
	  <div><img src="http://photo.bigasterisk.com/digicam/dl-2009-10-27/DSC_2249.JPG?size=large" alt="garage door control electronics"/></div>
	  <div><img src="http://photo.bigasterisk.com/digicam/dl-2009-10-27/DSC_2253.JPG?size=large" alt="garage door control electronics"/></div>
	  <div><img src="http://photo.bigasterisk.com/digicam/dl-2009-10-27/DSC_2250.JPG?size=large" alt="garage door control electronics"/></div>
	  <div><img src="http://photo.bigasterisk.com/digicam/dl-2009-10-27/DSC_2251.JPG?size=large" alt="garage door control electronics"/></div>

	  <p>Brad Fitzpatrick uses <a href="http://brad.livejournal.com/2394707.html?thread=15143763#t15143763">an X10 relay unit</a> in his <a href="http://brad.livejournal.com/2394707.html">similar setup</a>. </p>

	  <div class="deliciousList" tags="garage+door"/>
	    
	</div>
	<!--# include file="/automation/sidebar.xhtml" -->	
      </div>
    </div>
    <!--# include file="/automation/body2.xhtml" -->
  </body>
</html>
